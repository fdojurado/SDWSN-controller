#!/usr/bin/env python3
import plac

from context import controller

from controller.about import APP
from controller import cli
from controller.config import DEFAULT_CONFIG


def main(verbose: ('use verbose output', 'flag', 'v'),
         version: ('print version information and exit', 'flag', 'V'),
         config: ('configuration file [default: {}]'.format(DEFAULT_CONFIG),
                  'option', 'c'),
         plot: ('show plots', 'flag', 'p'),
         mqtt: ('run MQTT client', 'flag', 'm'),
         fit: ('connect to FIT IoT LAB', 'flag', 'f'),
         daemon: ('run as daemon', 'flag', 'd')):
    """The serial-controller implements the control plane of the SDWSN."""
    cli.main(APP, verbose, version, config, plot, mqtt, daemon, fit)


if __name__ == '__main__':
    plac.call(main)
